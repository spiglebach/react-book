<!DOCTYPE html>
<html>
<head>
    <title>Hello React</title>
    <meta charset="utf-8">
</head>
<body>
<div id="app">
    <!-- my app renders here -->
</div>
<script src="react/react.js"></script>
<script src="react/react-dom.js"></script>
<script src="react/babel.min.js"></script>
<script type="text/babel">
    const headers = ['Book', 'Author', 'Language', 'Published', 'Sales'];

    const data = [
        [
            'A Tale of Two Cities', 'Charles Dickens',
            'English', '1859', '200 million',
        ],
        [
            'Le Petit Prince (The Little Prince)', 'Antoine de Saint-Exup√©ry',
            'French', '1943', '150 million',
        ],
        [
            "Harry Potter and the Philosopher's Stone", 'J. K. Rowling',
            'English', '1997', '120 million',
        ],
        [
            'And Then There Were None', 'Agatha Christie',
            'English', '1939', '100 million',
        ],
        [
            'Dream of the Red Chamber', 'Cao Xueqin',
            'Chinese', '1791', '100 million',
        ],
        [
            'The Hobbit', 'J. R. R. Tolkien',
            'English', '1937', '100 million',
        ],
    ];

    class Excel extends React.Component {
        constructor(props) {
            super();
            this.state = {data: props.initialData}
            this.sort = this.sort.bind(this)
        }

        sort(e) {
            console.log('sorting!')
        }

        render() {
            const headers = [];
            // for (const title of this.props.headers) {
            //     headers.push(<th>{title}</th>)
            // }
            return (
                <table>
                    <thead onClick={this.sort}>
                    <tr>{this.props.headers.map((title, idx) => <th key={idx}>{title}</th>)}</tr>
                    </thead>
                    <tbody>
                    {this.state.data.map((row, index) =>
                        <tr key={index}>
                            {row.map((cell, index) =>
                                <td key={index}>{cell}</td>
                            )}
                        </tr>
                    )}
                    </tbody>
                </table>
            )
        }
    }

    ReactDOM.render(
        <Excel headers={headers} initialData={data} />,
        document.getElementById('app')
    );
</script>
</body>
</html>